<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Gabriel Ferreira">
<meta name="dcterms.date" content="2023-03-17">

<title>Project: Amazon Dashboard - Sales and Profitability Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="Projeto6DA_files/libs/clipboard/clipboard.min.js"></script>
<script src="Projeto6DA_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="Projeto6DA_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="Projeto6DA_files/libs/quarto-html/popper.min.js"></script>
<script src="Projeto6DA_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Projeto6DA_files/libs/quarto-html/anchor.min.js"></script>
<link href="Projeto6DA_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Projeto6DA_files/libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Projeto6DA_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Projeto6DA_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Projeto6DA_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-full">

<main class="content column-page" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Project: Amazon Dashboard - Sales and Profitability Analysis</h1>
</div>



<div class="quarto-title-meta column-page">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Gabriel Ferreira </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">March 17, 2023</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>This project presents a Sales and Profitability Analysis Dashboard, developed to simulate Amazon’s e-commerce and retail environment. The main objective is to provide a detailed view of the company’s financial performance over the years, identify the most profitable products and categories, analyze customer purchasing behavior, and evaluate operational efficiency, such as delivery time. The dashboard aims to empower management to make strategic decisions related to inventory, pricing, marketing, and supply chain optimization.</p>
<section id="project-structure" class="level2">
<h2 class="anchored" data-anchor-id="project-structure">Project Structure</h2>
<p>The dashboard is organized into different sections, each focusing on a crucial aspect of business analysis:</p>
<ul>
<li><strong>Financial Overview</strong>: KPIs for sales, profit, and margin, plus a timeline of annual performance.</li>
<li><strong>Featured Products and Customers</strong>: Identification of best-selling products and most profitable customers.</li>
<li><strong>Analysis by Category</strong>: Detailing orders, profit, and sales by different product categories.</li>
<li><strong>Operational Efficiency and Order Behavior</strong>: Evaluation of average delivery time and the distribution of orders by month and by customer.</li>
</ul>
</section>
<section id="technologies-used" class="level2">
<h2 class="anchored" data-anchor-id="technologies-used">Technologies Used</h2>
<p>For the construction of this dashboard, the tools employed were:</p>
<ul>
<li><strong>Power BI Desktop</strong>: To connect the data source, perform the necessary modeling and transformation, develop DAX measures for complex calculations, and build the interactive visuals that compose the dashboard.</li>
<li><strong>Figma</strong>: The prototyping and design of the dashboard were done with Figma, ensuring an intuitive and visually appealing user experience.</li>
</ul>
</section>
<section id="etl-process-extract-transform-and-load" class="level2">
<h2 class="anchored" data-anchor-id="etl-process-extract-transform-and-load">ETL Process (Extract, Transform, and Load)</h2>
<p>The ETL process for the Amazon Dashboard was rigorously executed to ensure data quality and integrity:</p>
<ol type="1">
<li><strong>Extraction</strong>: Data was extracted from a single Excel spreadsheet (<code>.xls</code>), which consolidated all the sales, product, customer, and operational information necessary for the analysis.</li>
<li><strong>Transformation</strong>: In Power Query, an integral part of Power BI, various cleaning and enrichment operations were performed. This included:
<ul>
<li>Data treatment, such as standardizing names and correcting values.</li>
<li>Creation of new columns and calculated metrics that would be essential for the analyses, using the M language.</li>
<li>Data modeling was carefully defined, establishing relationships between tables and ensuring that all information could be correctly aggregated and filtered for multidimensional analysis.</li>
</ul></li>
<li><strong>Loading</strong>: After the extraction and transformation steps, the data was loaded into the Power BI data model, ready to feed all the charts and tables of the dashboard, allowing for interactive exploration.</li>
</ol>
</section>
</section>
<section id="dashboard" class="level1">
<h1>Dashboard</h1>
<p>The dashboard presents a clear and organized layout, with intuitive navigation between the different analyses. The interface combines KPI cards, bar and line charts for temporal trends and rankings, as well as detailed tables. Each visual is designed to highlight key information and allow interactive data exploration, facilitating the identification of patterns and actionable insights for the business.</p>
<section id="insights" class="level2">
<h2 class="anchored" data-anchor-id="insights">Insights</h2>
<p>The analysis of the data presented in the dashboard revealed valuable insights into sales and profitability performance:</p>
<ul>
<li><strong>Robust Financial Overview</strong>:
<ul>
<li>The dashboard highlights a <strong>Total Sales of R$ 3.59 Million</strong> and a <strong>Total Profit of R$ 108 Thousand</strong>.
<div style="text-align:center;">
<img src="imagem1.png" alt="">
</div></li>
<li>The <strong>Profit Margin is 3.02%</strong>, indicating efficiency in converting sales into profit.
<div style="text-align:center;">
<img src="imagem2.png" alt="">
</div></li>
<li>The temporal analysis of <strong>Sales by Year</strong> shows continuous growth from 2011 to 2014, with 2014 recording the highest sales volume, close to R$ 1.5 Million, highlighting a positive trajectory of expansion.</li>
</ul></li>
</ul>
<div style="text-align:center;">
<p><img src="imagem3.png" alt=""></p>
</div>
<ul>
<li><strong>Featured Products and Customers</strong>:
<ul>
<li>Among the <strong>Best-Selling Products</strong>, “Staples” leads with <strong>R$ 1.2 Million</strong> in sales, followed by products such as “Wilson Jones Clip &amp;…” and “Cardinal EasyOpen …”, with <strong>R$ 1.0 Million</strong>. This data is crucial for inventory management and targeted marketing campaigns.
<div style="text-align:center;">
<img src="imagem4.png" alt="">
</div></li>
<li>In the analysis of <strong>Profit by Customer</strong>, Raymond Buch stands out, followed by Jane Waco, evidencing the most valuable customers for the business and the importance of loyalty programs.
<div style="text-align:center;">
<p><img src="imagem5.png" alt=""></p>
</div></li>
</ul></li>
<li><strong>Efficiency and Performance by Category</strong>:
<ul>
<li>The <strong>Average Ticket</strong> for sales is R$ 2,230.55, and the <strong>Average Value per Unit</strong> is R$ 226.49, indicating the transactional value per order and per item sold.
<div style="text-align:center;">
<img src="imagem6.png" alt="">
</div></li>
<li>In <strong>Number of Orders by Category</strong>, “Binders” leads with 403 orders, followed by “Paper” (384) and “Furnishings” (281), suggesting high demand for these items.
<div style="text-align:center;">
<img src="imagem7.png" alt="">
</div></li>
<li><strong>Sales by Category</strong> shows “Copiers” with R$ 0.50 Million and “Phones” with R$ 0.49 Million, leading in revenue.
<div style="text-align:center;">
<img src="imagem8.png" alt="">
</div></li>
<li>On the other hand, in <strong>Profit by Category</strong>, “Tables” (R$ 19 Thousand), “Copiers” (R$ 16 Thousand), and “Binders” (R$ 16 Thousand) are the largest contributors, revealing that categories with the highest sales volume are not always the most profitable.
<div style="text-align:center;">
<p><img src="imagem9.png" alt=""></p>
</div></li>
</ul></li>
<li><strong>Order and Customer Performance</strong>:
<ul>
<li>The <strong>Average Delivery Time</strong> is 3.93 days, an important KPI for customer satisfaction. The <strong>Total Number of Orders</strong> in the period is 1,611.
<div style="text-align:center;">
<img src="imagem10.png" alt="">
</div></li>
<li>The analysis of <strong>Orders by Month</strong> over the years reveals that September (227), November, and December (both with 234 orders) are peak months, suggesting seasonality in purchases.
<div style="text-align:center;">
<img src="imagem11.png" alt="">
</div></li>
<li>In <strong>Number of Orders by Customer</strong>, Arianne Irving and Bill Donatelli are among the customers with 7 orders each, showing high purchase frequency.
<div style="text-align:center;">
<img src="imagem12.png" alt="">
</div></li>
<li><strong>Total Sales by Customer</strong> reiterates the value of Raymond Buch (R$ 58 Thousand) and Nora Preis (R$ 55 Thousand) as the customers who generate the most revenue.
<div style="text-align:center;">
<p><img src="imagem13.png" alt=""></p>
</div></li>
</ul></li>
</ul>
</section>
<section id="considerations" class="level2">
<h2 class="anchored" data-anchor-id="considerations">Considerations</h2>
<p>The dashboard offers a solid basis for optimizing Amazon’s (simulated) operations and sales strategies. Based on the insights obtained, some important considerations emerge:</p>
<ul>
<li><strong>Product Mix Optimization</strong>: The difference between best-selling and most profitable categories (“Copiers” and “Phones” vs.&nbsp;“Tables”) indicates the need for a more in-depth cost and pricing analysis. The company can focus on increasing sales of highly profitable items or seek ways to improve the margin of high-volume products.</li>
<li><strong>Inventory Management and Seasonal Demand</strong>: The peak in orders between September and December is a clear indicator of seasonality. Inventory management and marketing campaign planning should be intensified during these months to capitalize on demand.</li>
<li><strong>Continuous Improvement of Delivery Time</strong>: An average delivery time of 3.93 days is reasonable, but in a competitive environment like e-commerce, continuous optimization of this KPI can be a crucial differentiator for customer satisfaction and retention.</li>
<li><strong>Loyalty and VIP Programs</strong>: Identifying the most valuable customers, both in terms of profit and sales, allows for the creation of loyalty programs or personalized offers to encourage repeat purchases and strengthen relationships.</li>
<li><strong>Performance Analysis by Year</strong>: The annual growth trend is positive, but it is important to investigate the factors that drove the increase in sales in 2014 to replicate these strategies in future periods.</li>
</ul>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>The Dashboard was a comprehensive analytical tool that transforms sales and operational data into actionable business intelligence. Its main contribution lies in its ability to:</p>
<ul>
<li>Provide a clear view of the overall financial performance and the company’s growth trajectory.</li>
<li>Identify the products, categories, and customers that drive revenue and profit.</li>
<li>Analyze operational efficiency and seasonal order patterns.</li>
</ul>
</section>
<section id="link-to-the-dashboard" class="level2">
<h2 class="anchored" data-anchor-id="link-to-the-dashboard">Link to the Dashboard:</h2>
<p><a href="https://app.powerbi.com/groups/me/reports/f3677347-a80f-4fd0-aad8-4a1b5c33b243/ReportSection45c8cf44a92cf66d802f?experience=power-bi" rel="noopener noreferrer"> Click here to access the report in Power BI </a></p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>